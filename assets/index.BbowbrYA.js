import{r as b,a as F,g as D,o as G,u as N,c as V,w as z,s as k,b as I,d as $,t as H,_ as J,e as _,F as A,f as T,h as K,i as y,j as g,n as Q,k as X,l as h,m as E,p as j,V as B}from"./index.D8RInRAd.js";const Y=[{title:"网盘工具",icon:"icon-cloud-upload",child:[{title:"磁力拼接",name:"magnet-merge",icon:"magnet"},{title:"百度网盘拼接",name:"baidu-merge",icon:"baidu"}]}];function U(e){return D()?(G(e),!0):!1}function w(e){return typeof e=="function"?e():N(e)}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Z=Object.prototype.toString,ee=e=>Z.call(e)==="[object Object]",te=()=>{};function ne(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const a=t;t=void 0,a&&await a},n}function oe(e,t,n={}){const{immediate:a=!0}=n,i=b(!1);let o=null;function c(){o&&(clearTimeout(o),o=null)}function d(){i.value=!1,c()}function p(...u){c(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...u)},w(t))}return a&&(i.value=!0,S&&p()),U(d),{isPending:F(i),start:p,stop:d}}const ae=S?window:void 0,W=S?window.navigator:void 0;function se(e){var t;const n=w(e);return(t=n==null?void 0:n.$el)!=null?t:n}function q(...e){let t,n,a,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,a,i]=e,t=ae):[t,n,a,i]=e,!t)return te;Array.isArray(n)||(n=[n]),Array.isArray(a)||(a=[a]);const o=[],c=()=>{o.forEach(s=>s()),o.length=0},d=(s,l,f,m)=>(s.addEventListener(l,f,m),()=>s.removeEventListener(l,f,m)),p=z(()=>[se(t),w(i)],([s,l])=>{if(c(),!s)return;const f=ee(l)?{...l}:l;o.push(...n.flatMap(m=>a.map(x=>d(s,m,x,f))))},{immediate:!0,flush:"post"}),u=()=>{p(),c()};return U(u),u}function le(){const e=b(!1),t=$();return t&&I(()=>{e.value=!0},t),e}function O(e){const t=le();return V(()=>(t.value,!!e()))}function L(e,t={}){const{controls:n=!1,navigator:a=W}=t,i=O(()=>a&&"permissions"in a),o=k(),c=typeof e=="string"?{name:e}:e,d=k(),p=()=>{var s,l;d.value=(l=(s=o.value)==null?void 0:s.state)!=null?l:"prompt"};q(o,"change",p);const u=ne(async()=>{if(i.value){if(!o.value)try{o.value=await a.permissions.query(c)}catch{o.value=void 0}finally{p()}if(n)return H(o.value)}});return u(),n?{state:d,isSupported:i,query:u}:d}function ie(e={}){const{navigator:t=W,read:n=!1,source:a,copiedDuring:i=1500,legacy:o=!1}=e,c=O(()=>t&&"clipboard"in t),d=L("clipboard-read"),p=L("clipboard-write"),u=V(()=>c.value||o),s=b(""),l=b(!1),f=oe(()=>l.value=!1,i);function m(){c.value&&C(d.value)?t.clipboard.readText().then(r=>{s.value=r}):s.value=R()}u.value&&n&&q(["copy","cut"],m);async function x(r=w(a)){u.value&&r!=null&&(c.value&&C(p.value)?await t.clipboard.writeText(r):P(r),s.value=r,l.value=!0,f.start())}function P(r){const v=document.createElement("textarea");v.value=r??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function R(){var r,v,M;return(M=(v=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:v.toString())!=null?M:""}function C(r){return r==="granted"||r==="prompt"}return{isSupported:u,text:s,copied:l,copy:x}}const ue={class:"group"},re={class:"item"},ce={class:"title"},de={class:"content"},pe={class:"content_group"},fe={class:"content_title"},me={key:0,class:"content_item"},ve={key:1,class:"content_item"},ge={__name:"index",setup(e){const{copy:t}=ie(),n=b(""),a=V(()=>"magnet:?xt=urn:btih:"+n.value),i=()=>{t(a.value),B.modal.message({id:"myUniqueMsg",content:"复制成功",status:"success"})},o=b(""),c=V(()=>"https://pan.baidu.com/"+o.value),d=()=>{t(c.value),B.modal.message({id:"myUniqueMsg",content:"复制成功",status:"success"})};return(p,u)=>{const s=K("vxe-input");return y(),_("div",ue,[(y(!0),_(A,null,T(N(Y),l=>(y(),_("div",re,[g("p",ce,[g("i",{class:Q(["iconfont",l.icon])},null,2),X(h(l.title),1)]),g("div",de,[(y(!0),_(A,null,T(l.child,f=>(y(),_("div",pe,[g("div",fe,h(f.title),1),f.name==="magnet-merge"?(y(),_("div",me,[E(s,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=m=>n.value=m),placeholder:"请输入磁力码"},null,8,["modelValue"]),g("div",{class:"content_msg",onClick:i},[g("p",null,h(a.value),1)])])):j("",!0),f.name==="baidu-merge"?(y(),_("div",ve,[E(s,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=m=>o.value=m),placeholder:"请输入百度网盘码"},null,8,["modelValue"]),g("div",{class:"content_msg",onClick:d},[g("p",null,h(c.value),1)])])):j("",!0)]))),256))])]))),256))])}}},ye=J(ge,[["__scopeId","data-v-d5b94450"]]);export{ye as default};
